<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta http-equiv="x-ua-compatible" content="ie=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />

	<h:outputStylesheet library="css" name="common.css" />
	<h:outputStylesheet library="css" name="w3.css"></h:outputStylesheet>

	<h:outputScript library="js" name="jquery.formatCurrency-1.4.0.min.js"></h:outputScript>
	
	<style>
	.ui-datatable .ui-datatable-header, .ui-datatable .ui-datatable-footer {
		text-align: left;
	}
	</style>

	<title>Calendar</title>
</h:head>
<h:body>
	<div class="w3-container">
	<div id="scroll1" class="w3-red w3-left" style="width:100px; height:100px; overflow-y:hidden">rrts fshjkhfda kdha hkdha khah dah dda fd afa dfda fda fda fda fdas fdas afd a  adsa</div>
	<div id="scroll2" class="w3-blue w3-left" style="width:120px; height:100px; overflow-y:auto" onscroll="$('#scroll1').scrollTop($('#scroll2').scrollTop())">rrts fshjkhfda kdha hkdha khah dah dda fd afa dfda fda fda fda fdas fdas afd a  adsa</div>
	</div>
	<h:form id="schedular">
    <p:growl id="messages" showDetail="true" />
    <p:schedule id="schedule" value="#{scheduleView.eventModel}" timeZone="GMT+2" view="agendaDay" showHeader="true" slotMinutes="15"
			leftHeaderTemplate="" rightHeaderTemplate="prev,current,next" centerTemplate="month, agendaWeek, agendaDay">
            <p:ajax event="dateSelect" listener="#{scheduleView.onDateSelect}" update="eventDetails" oncomplete="PF('eventDialog').show();" />
            <p:ajax event="eventSelect" listener="#{scheduleView.onEventSelect}" update="eventDetails" oncomplete="PF('eventDialog').show();" />
            <p:ajax event="eventMove" listener="#{scheduleView.onEventMove}" update="messages" />
            <p:ajax event="eventResize" listener="#{scheduleView.onEventResize}" update="messages" />
        </p:schedule>
    <p:dialog widgetVar="eventDialog" header="Event Details" showEffect="clip" hideEffect="clip">
        <h:panelGrid id="eventDetails" columns="2">
            <p:outputLabel for="title" value="Titles:" />
            <p:inputText id="title" value="#{scheduleView.event.title}" required="true" />
 
            <p:outputLabel for="from" value="From:" />
            <p:calendar id="from" value="#{scheduleView.event.startDate}" timeZone="GMT+2" pattern="dd/MM/yyyy HH:mm"/>
 
            <p:outputLabel for="to" value="To:" />
            <p:calendar id="to" value="#{scheduleView.event.endDate}" timeZone="GMT+2" pattern="dd/MM/yyyy HH:mm"/>
 
            <p:outputLabel for="allDay" value="All Day:" />
            <h:selectBooleanCheckbox id="allDay" value="#{scheduleView.event.allDay}" />
 
            <p:commandButton type="reset" value="Reset" />
            <p:commandButton id="addButton" value="Save" actionListener="#{scheduleView.addEvent}" oncomplete="PF('myschedule').update();PF('eventDialog').hide();" />
        </h:panelGrid>
    </p:dialog>  
    <p:remoteCommand name="onload" oncomplete="fixSchedular()"/>   
</h:form>
 
	
	<h:form id="dataF">
		<!-- Action -->
		<div class="w3-center w3-container">
			<p:commandButton style="width:180px;height:50px;" value="Print" onclick="fillData()" actionListener="#{checkoutBean.print}"></p:commandButton>
			<p:commandButton style="width:180px;height:50px;" value="Email" actionListener="#{checkoutBean.email}"></p:commandButton>
		</div>
		<!-- Action END-->
	</h:form>
	
	<h:outputScript library="js" name="common.js"></h:outputScript>
	
	<script>
		// Forced schedular resize
		var resizeTimer;
		$(window).on('resize', function(e) {
		  clearTimeout(resizeTimer);
		  resizeTimer = setTimeout(function() {
			  fixSchedular();
		  }, 250);
		});
		function fixSchedular() {
			var sch1 = $('#schedular\\:schedule').find('.fc-scroller');
			var sch2 = $('#schedular\\:scheduleLocale').find('.fc-scroller');
			var sch3 = $('#schedular\\:lazyLoad').find('.fc-scroller');
			
			$(sch1).css({"overflow-y":"hidden", "height":"500px"});
			$(sch2).css({"overflow-y":"hidden", "height":"500px"});
			$(sch3).css({"height":"500px"});
			$(sch3).on( "scroll", function() {
				$(sch1).scrollTop($(sch3).scrollTop());
				$(sch1).scrollTop($(sch3).scrollTop());
			});
			
			$('#schedular\\:scheduleLocale').find('.fc-axis').hide();
			$('#schedular\\:lazyLoad').find('.fc-axis').hide();
		}
	</script>
	 
</h:body>
</html>