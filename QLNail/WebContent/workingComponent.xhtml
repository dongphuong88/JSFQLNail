<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<meta http-equiv="x-ua-compatible" content="ie=edge" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<h:outputScript library="js" name="jquery.formatCurrency-1.4.0.min.js"></h:outputScript> 
	<h:outputStylesheet library="css" name="common.css"></h:outputStylesheet>
	<h:outputStylesheet library="css" name="w3.css"></h:outputStylesheet>
	
	<style>
		.ui-datatable .ui-datatable-header, .ui-datatable .ui-datatable-footer {
			text-align:left;
		}
	</style>
	<title>Insert title here</title>
</h:head>
<h:body>
<div class="ipadMiniScreenLandscape"></div>
<h:form id="transactionForm">
	<div class="w3-container" style="width:800px; float:left">
		<h3>Pay by:</h3>
		<div class="w3-third">
			<h:outputLabel value="Gift Card#:" for="giftNo"></h:outputLabel>
			<p:inputText id="giftNo" style="width:160px;" value="#{checkoutBean.giftCardNo}"></p:inputText>
			<h:outputLabel value="Gift Card Amount:" for="gift"></h:outputLabel>
			<p:inputText id="gift" style="width:110px;" type="number" value="#{checkoutBean.giftCardAmount}"></p:inputText>
		</div>
		<div class="w3-third">
			<h:outputLabel value="Credit: " for="credit"></h:outputLabel>
			<p:inputText id="credit" type="number" value="#{checkoutBean.creditCardAmount}"></p:inputText>
			<h:outputLabel value="Cash:&nbsp;&nbsp;&nbsp;" for="cash"></h:outputLabel>
			<p:inputText id="cash" type="number" value="#{checkoutBean.cashAmount}"></p:inputText>
		</div>
		<div class="w3-third">
			<h:outputLabel value="Tip: " for="tip"></h:outputLabel>
			<p:inputText id="tip" type="number" value="#{checkoutBean.tipAmount}"></p:inputText>
			
			<p:selectOneRadio id="tipAmount" onchange="updateTip(200)" layout="grid" columns="1" style="margin-left:30px">
	            <f:selectItem name="tip" itemLabel="15% - $100.00" itemValue="15" />
	            <f:selectItem name="tip" itemLabel="18% - $100.00" itemValue="18" />
	            <f:selectItem name="tip" itemLabel="20% - $100.00" itemValue="20" />
	        </p:selectOneRadio>
		</div>
	</div>
	<div class="w3-left">
		<h1>Total: <p:outputLabel id="total" value="#{checkoutBean.totalTransaction}"></p:outputLabel></h1>
		<p:commandButton style="width:180px;height:50px;display:block;" value="Print"></p:commandButton>
		<p:commandButton style="width:180px;height:50px;margin-top:10px" value="Email" onclick="updateTip()"></p:commandButton>
	</div>
</h:form>

	<h:outputScript library="js" name="common.js"></h:outputScript> 
	<script>
		function updateTip(amount) {
			var tipPercent = +$('input[name="transactionForm\\:tipAmount"]:checked', '#transactionForm').val();
			$('#transactionForm\\:tip').val(amount*tipPercent/100);
			
			updateAmount();
		}
		function updateAmount() {
			var tip = $('#transactionForm\\:tip').val();
			$('#transactionForm\\:total').text(50 + +tip);
			$('#transactionForm\\:total').formatCurrency();
		}
	</script>
</h:body>
</html>